{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/nyyjsw/Desktop/portfolio/src/components/MusicPlayer.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useEffect } from 'react';\nimport Image from 'next/image';\n\nexport default function MusicPlayer() {\n  const [playing, setPlaying] = useState(false);\n  const audioRef = useRef<HTMLAudioElement>(null);\n\n  useEffect(() => {\n    const audio = audioRef.current;\n    if (!audio) return;\n    if (playing) {\n      audio.play().catch(() => {});\n    } else {\n      audio.pause();\n    }\n  }, [playing]);\n\n  // 唱片阴影：停止 vs 播放\n  const discShadow = playing\n    ? '6px 12px 30px rgba(0,0,0,0.5), 3px 6px 12px rgba(0,0,0,0.3)'\n    : '4px 8px 20px rgba(0,0,0,0.35), 2px 4px 8px rgba(0,0,0,0.2)';\n\n  return (\n    <>\n      {/*\n        容器 80×80px。布局：\n          唱片 50×50 在左下区（left:0, top:24），\n          唱针 48×54 在右上区（top:0, right:0），\n          唱针 pivot 在其右上角，扫入唱片左侧。\n      */}\n      <div\n        style={{\n          position: 'fixed',\n          top: '16px',\n          right: '16px',\n          zIndex: 9999,\n          width: '80px',\n          height: '80px',\n          cursor: 'pointer',\n          userSelect: 'none',\n        }}\n        onClick={() => setPlaying(p => !p)}\n      >\n        {/* 唱片 */}\n        <div\n          style={{\n            position: 'absolute',\n            left: '0px',\n            top: '22px',\n            width: '50px',\n            height: '50px',\n            borderRadius: '50%',\n            overflow: 'hidden',\n            boxShadow: discShadow,\n            transition: 'box-shadow 0.6s ease',\n            animation: playing ? 'spin-disc 3s linear infinite' : 'none',\n            zIndex: 1,\n          }}\n        >\n          <Image\n            src=\"/disc.png\"\n            alt=\"disc\"\n            width={50}\n            height={50}\n            style={{ display: 'block', width: '100%', height: '100%' }}\n            priority\n          />\n        </div>\n\n        {/*\n          唱针：\n          - 48×54px，定位在右上角 top:0, right:0\n          - transformOrigin: right 6px → pivot 在元素右上角\n          - 默认 rotate(35deg)：针头抬起偏右\n          - 播放 rotate(10deg)：针头落在唱片约 1/3 处\n        */}\n        <div\n          style={{\n            position: 'absolute',\n            top: '0px',\n            right: '0px',\n            width: '48px',\n            height: '54px',\n            transformOrigin: 'right 6px',\n            transform: playing ? 'rotate(10deg)' : 'rotate(35deg)',\n            transition: 'transform 0.7s ease',\n            zIndex: 2,\n          }}\n        >\n          <Image\n            src=\"/needle.png\"\n            alt=\"needle\"\n            width={48}\n            height={54}\n            style={{ display: 'block', width: '100%', height: '100%' }}\n            priority\n          />\n        </div>\n\n        <audio ref={audioRef} src=\"/music/song.mp3\" loop />\n      </div>\n\n      <style>{`\n        @keyframes spin-disc {\n          from { transform: rotate(0deg); }\n          to   { transform: rotate(360deg); }\n        }\n      `}</style>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS;;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,WAAW,IAAA,uKAAM,EAAmB;IAE1C,IAAA,0KAAS;iCAAC;YACR,MAAM,QAAQ,SAAS,OAAO;YAC9B,IAAI,CAAC,OAAO;YACZ,IAAI,SAAS;gBACX,MAAM,IAAI,GAAG,KAAK;6CAAC,KAAO;;YAC5B,OAAO;gBACL,MAAM,KAAK;YACb;QACF;gCAAG;QAAC;KAAQ;IAEZ,gBAAgB;IAChB,MAAM,aAAa,UACf,gEACA;IAEJ,qBACE;;0BAOE,6LAAC;gBACC,OAAO;oBACL,UAAU;oBACV,KAAK;oBACL,OAAO;oBACP,QAAQ;oBACR,OAAO;oBACP,QAAQ;oBACR,QAAQ;oBACR,YAAY;gBACd;gBACA,SAAS,IAAM,WAAW,CAAA,IAAK,CAAC;;kCAGhC,6LAAC;wBACC,OAAO;4BACL,UAAU;4BACV,MAAM;4BACN,KAAK;4BACL,OAAO;4BACP,QAAQ;4BACR,cAAc;4BACd,UAAU;4BACV,WAAW;4BACX,YAAY;4BACZ,WAAW,UAAU,iCAAiC;4BACtD,QAAQ;wBACV;kCAEA,cAAA,6LAAC,2IAAK;4BACJ,KAAI;4BACJ,KAAI;4BACJ,OAAO;4BACP,QAAQ;4BACR,OAAO;gCAAE,SAAS;gCAAS,OAAO;gCAAQ,QAAQ;4BAAO;4BACzD,QAAQ;;;;;;;;;;;kCAWZ,6LAAC;wBACC,OAAO;4BACL,UAAU;4BACV,KAAK;4BACL,OAAO;4BACP,OAAO;4BACP,QAAQ;4BACR,iBAAiB;4BACjB,WAAW,UAAU,kBAAkB;4BACvC,YAAY;4BACZ,QAAQ;wBACV;kCAEA,cAAA,6LAAC,2IAAK;4BACJ,KAAI;4BACJ,KAAI;4BACJ,OAAO;4BACP,QAAQ;4BACR,OAAO;gCAAE,SAAS;gCAAS,OAAO;gCAAQ,QAAQ;4BAAO;4BACzD,QAAQ;;;;;;;;;;;kCAIZ,6LAAC;wBAAM,KAAK;wBAAU,KAAI;wBAAkB,IAAI;;;;;;;;;;;;0BAGlD,6LAAC;0BAAO,CAAC;;;;;MAKT,CAAC;;;;;;;;AAGP;GA3GwB;KAAA"}}]
}